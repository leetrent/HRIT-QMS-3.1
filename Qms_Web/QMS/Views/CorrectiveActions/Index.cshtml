@model IOrderedEnumerable<Qms_Data.UIModel.CorrectiveActionListItem>

<h2 class="mt-3 mb-4 text-center">@ViewData["CA_INDEX_PAGE_TITLE"]</h2>

<p class="mb-1 text-primary font-italic mt-4">Click on column name to sort column:</p>
<table class="table table-bordered table-striped table-hover table-sm mt-0">
    <thead class="thead-dark">
        <tr style="height: 50px;">
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["IdSortParam"]">ID</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["emplIdSortParam"]">Employee ID</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["emplNameSortParam"]">Employee Name</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["requestTypeSortParam"]">Request Type</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["noaSortParam"]">Nature of Action</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["orgSortParam"]">Org Assigned</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["personSortParam"]">Person Assigned</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["statusSortParam"]">Status</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["prioritySortParam"]">Priority</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["submittedBySortParam"]">Submitted By</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["dateSubmittedSortParam"]">Date Submitted</a>
            </th>
            <th class="text-center border align-middle">
                <a class="text-light font-weight-normal" asp-controller="CorrectiveActions" asp-action="Index"
                   asp-route-UseCase="@ViewData["UseCase"]" asp-route-SortOrder="@ViewData["daysOldSortParam"]">Days Old</a>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <a asp-area="" asp-controller="CorrectiveActions" asp-action="Edit" asp-route-id="@item.Id" asp-route-UseCase="@ViewData["UseCase"]">
                        @Html.DisplayFor(modelItem => item.Id)
                    </a>
                </td>
                <td>@Html.DisplayFor(modelItem => item.EmplId)</td>
                <td>@Html.DisplayFor(modelItem => item.EmployeeName)</td>
                <td>@Html.DisplayFor(modelItem => item.RequestType)</td>
                <td>@Html.DisplayFor(modelItem => item.NatureOfAction)</td>
                <td>@Html.DisplayFor(modelItem => item.OrgAssigned)</td>
                <td>@Html.DisplayFor(modelItem => item.PersonAssigned)</td>
                <td>@Html.DisplayFor(modelItem => item.Status)</td>
                <td>@Html.DisplayFor(modelItem => item.Priority)</td>
                <td>@Html.DisplayFor(modelItem => item.SubmittedBy)</td>
                <td>@Html.DisplayFor(modelItem => item.DateSubmitted)</td>
                <td>@Html.DisplayFor(modelItem => item.DaysOld)</td>
            </tr>
        }
    </tbody>
</table>

@section Scripts {
    <script>
        window.addEventListener("load", function () {
            let mainContainer = document.getElementById("main-container");
            if (mainContainer) {
                mainContainer.classList.remove("container");
                mainContainer.classList.add("container-fluid");
                //mainContainer.classList.add("w-75");
                mainContainer.style.width = "90%";
            }
        });
    </script>
}
